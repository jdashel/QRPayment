(function(t){function e(e){for(var n,s,r=e[0],c=e[1],l=e[2],d=0,p=[];d<r.length;d++)s=r[d],i[s]&&p.push(i[s][0]),i[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(p.length)p.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],n=!0,r=1;r<a.length;r++){var c=a[r];0!==i[c]&&(n=!1)}n&&(o.splice(e--,1),t=s(s.s=a[0]))}return t}var n={},i={app:0},o=[];function s(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=n,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(a,n,function(e){return t[e]}.bind(null,n));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/QRPayment/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"001e":function(t,e,a){t.exports=a.p+"img/phone.4e65dfc5.svg"},"0096":function(t,e,a){t.exports=a.p+"img/commerce.278a4939.svg"},"0279":function(t,e,a){},"034f":function(t,e,a){"use strict";var n=a("64a9"),i=a.n(n);i.a},"0cc8":function(t,e,a){t.exports=a.p+"img/smartphone.7ead59af.svg"},"0f62":function(t,e,a){t.exports=a.p+"img/user.13e1b879.svg"},"135c":function(t,e,a){},"14ed":function(t,e,a){},"16db":function(t,e,a){},"201b":function(t,e,a){},2145:function(t,e,a){t.exports=a.p+"img/os.59db2a08.svg"},2764:function(t,e,a){t.exports=a.p+"img/success.334d63e3.svg"},"309a":function(t,e,a){t.exports=a.p+"img/logout.9fab3d35.svg"},"36be":function(t,e,a){t.exports=a.p+"img/menu.0cceadc9.svg"},"40c9":function(t,e,a){"use strict";var n=a("14ed"),i=a.n(n);i.a},"45e1":function(t,e,a){"use strict";var n=a("e19e"),i=a.n(n);i.a},4669:function(t,e,a){},"4e92":function(t,e,a){"use strict";var n=a("9459"),i=a.n(n);i.a},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var n=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},o=[],s=a("8aa5"),r=a.n(s),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"background"}},[a("div",{attrs:{id:"window"}},["progress"==t.reactive_type?a("Spinner",{attrs:{id:"spinner"}}):a("img",{attrs:{id:"image",src:t.image,alt:""}}),a("div",{attrs:{id:"title"}},[t._v(t._s(t.title))]),a("div",{attrs:{id:"content"}},[t._v(t._s(t.content))])],1)])},l=[],u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"spinner"}},[n("img",{attrs:{id:"outter",src:a("b5da"),alt:""}}),n("img",{attrs:{id:"inner",src:a("fc9f"),alt:""}})])},d=[],p={name:"Spinner"},m=p,g=(a("baf6"),a("2877")),f=Object(g["a"])(m,u,d,!1,null,"ae7d0eba",null),h=f.exports,v={name:"Dialog",props:["title","content","type"],components:{Spinner:h},data:function(){return{image:"",reactive_type:this.type}},watch:{type:function(t,e){switch(this.reactive_type=t,this.reactive_type){case"success":this.image=a("2764");break;case"fail":this.image=a("79a5");break;default:break}}},mounted:function(){switch(this.reactive_type){case"success":this.image=a("2764");break;case"fail":this.image=a("79a5");break;default:break}}},_=v,b=(a("8126"),Object(g["a"])(_,c,l,!1,null,"103a66d5",null)),y=b.exports,x={name:"app",mounted:function(){},methods:{}},$=x,C=(a("034f"),Object(g["a"])($,i,o,!1,null,null,null)),k=C.exports,w=a("8c4f"),q=function(){var t=this,e=this,n=e.$createElement,i=e._self._c||n;return i("div",{staticClass:"signin"},[i("div",{attrs:{id:"header"}},[i("img",{attrs:{id:"logo",src:a("9b19"),alt:""}}),i("div",{attrs:{id:"title"}},[e._v(e._s(e.title))])]),i("div",{attrs:{id:"form"}},[e.register?i("Input",{staticClass:"input",attrs:{type:"text",icon:a("0f62"),label:"Usuario"},model:{value:e.display_name,callback:function(t){e.display_name=t},expression:"display_name"}}):e._e(),i("Input",{staticClass:"input",attrs:{type:"email",icon:a("9055"),label:"Correo electrónico"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),i("Input",{staticClass:"input",attrs:{type:"password",icon:a("6005"),label:"Contraseña"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e.register?i("Input",{staticClass:"input",attrs:{type:"password",icon:a("6005"),label:"Confirmar contraseña"},model:{value:e.password2,callback:function(t){e.password2=t},expression:"password2"}}):e._e()],1),i("div",[e.register?i("div",{staticClass:"button",on:{click:e.signup}},[e._v("Registrar")]):i("div",{staticClass:"button",on:{click:e.signin}},[e._v("Acceder")]),e.register?i("div",{staticClass:"note"},[e._v("¿Ya tienes cuenta? "),i("b",{on:{click:function(){e.register=!e.register,t.title="Acceso"}}},[e._v("Ingresa ...")])]):i("div",{staticClass:"note"},[e._v("¿No tienes cuenta? "),i("b",{on:{click:function(){e.register=!e.register,t.title="Registro"}}},[e._v("Crea una ...")])])]),e.dialog?i("Dialog",{attrs:{title:e.dialog_title,content:e.dialog_message,type:e.dialog_type}}):e._e()],1)},O=[],E=(a("a481"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"group"},[a("input",{ref:"inp",attrs:{type:t.type,required:"required"},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)}}}),a("img",{attrs:{src:t.icon,alt:""}}),a("span",{staticClass:"highlight"}),a("span",{staticClass:"bar"}),a("label",[t._v(t._s(t.label))])])}),I=[],j={name:"Input",props:["label","type","icon","value"]},A=j,R=(a("ef14"),Object(g["a"])(A,E,I,!1,null,"3b979472",null)),P=R.exports,L={name:"Signin",components:{Input:P,Dialog:y},data:function(){return{title:"Acceso",display_name:null,email:null,password:null,password2:null,register:!1,dialog:!1,dialog_title:"",dialog_type:"",dialog_message:""}},methods:{validate:function(){var t=this;return this.email?this.password?this.register&&(this.display_name?this.password!=this.password2&&(this.dialog=!0,this.dialog_type="fail",this.dialog_title="Error",this.dialog_message="Las contraseñas no coinciden"):(this.dialog=!0,this.dialog_type="fail",this.dialog_title="Error",this.dialog_message="El usuario no puede estar vacío")):(this.dialog=!0,this.dialog_type="fail",this.dialog_title="Error",this.dialog_message="La contraseña no puede estar vacía"):(this.dialog=!0,this.dialog_type="fail",this.dialog_title="Error",this.dialog_message="El correo electrónico no puede estar vacío"),this.dialog&&setTimeout(function(){t.dialog=!1,t.dialog_title="",t.dialog_message=""},2e3),this.dialog},signin:function(){var t=this;this.validate()||(this.dialog=!0,this.dialog_type="progress",this.dialog_title="Validando",this.dialog_message="Validando identidad por favor espere",r.a.auth().signInWithEmailAndPassword(this.email,this.password).then(function(e){t.$router.replace({name:"main_menu"})},function(e){t.dialog=!0,t.dialog_type="fail",t.dialog_title="Error",t.dialog_message="Correo electrónico o contraseña inválidos",t.dialog&&setTimeout(function(){t.dialog=!1,t.dialog_title="",t.dialog_message=""},2e3)}))},signup:function(){var t=this;this.validate()||(this.dialog=!0,this.dialog_type="progress",this.dialog_title="Registrando",this.dialog_message="Creando nuevo usuario por favor espere",r.a.auth().createUserWithEmailAndPassword(this.email,this.password).then(this.create_user,function(e){t.dialog=!0,t.dialog_type="fail",t.dialog_title="Error",t.dialog_message="Error al registrar, por favor intente más tarde",t.dialog&&setTimeout(function(){t.dialog=!1,t.dialog_title="",t.dialog_message=""},2e3)}))},create_user:function(t){var e=r.a.firestore(),a=e.collection("users").doc(t.user.uid);a.set({display_name:this.display_name,phone:null,cod_r:null}),this.$router.replace({name:"main_menu"})}}},S=L,D=(a("45e1"),Object(g["a"])(S,q,O,!1,null,"155c2ab0",null)),M=D.exports,T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"main-menu"}},[n("div",{attrs:{id:"header"}},[n("img",{attrs:{id:"menu",src:a("36be"),alt:""}}),n("img",{attrs:{id:"logout",src:a("309a"),alt:""},on:{click:t.logout}}),n("img",{attrs:{id:"logo",src:a("bc28"),alt:""}}),n("div",{attrs:{id:"title"}},[t._v(t._s(t.user?t.user.display_name:"Loading"))])]),n("div",{attrs:{id:"options"}},t._l(t.list,function(e,a){return n("MenuItem",{key:a,attrs:{icon:e.icon,title:e.title,description:e.description,color:e.color,action:e.action,idx:t.list.length-a}})}),1)])},Q=[],U=function(){var t=this,e=this,a=e.$createElement,n=e._self._c||a;return n("div",{attrs:{id:"menu-item"},on:{click:function(){return t.$router.push(t.action)}}},[n("img",{attrs:{id:"icon",src:e.icon,alt:"no hay"}}),n("div",{attrs:{id:"content"}},[n("div",{attrs:{id:"title"}},[e._v(e._s(e.title))]),n("div",{attrs:{id:"description"}},[e._v(e._s(e.description))]),n("hr")])])},N=[],F={name:"MenuItem",props:["icon","title","description","color","action","idx"]},z=F,H=(a("a4db"),Object(g["a"])(z,U,N,!1,null,"3e400c00",null)),B=H.exports,G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{style:{backgroundColor:t.color},attrs:{id:"menu-header"}},[a("img",{attrs:{id:"avatar",src:t.avatar,alt:""}}),a("div",[t._v(t._s(t.title))])])},V=[],J={name:"MenuHeader",props:["avatar","title","color"]},K=J,W=(a("d67f"),Object(g["a"])(K,G,V,!1,null,"3768f6d1",null)),Y=W.exports,X={name:"MainMenu",components:{MenuItem:B,MenuHeader:Y},data:function(){return{list:[],user:null}},mounted:function(){var t=this,e=r.a.auth().currentUser.uid,n=r.a.firestore(),i=n.collection("users").doc(e);i.get().then(function(e){e.exists?(t.user=e.data(),console.log(t.user),t.user.phone?t.user.cod_r?t.list=[{icon:a("755e"),title:"Pagar",description:"Leer un código QR para pagar",action:"scan_code"},{icon:a("f196"),title:"Cobrar",description:"Generar un código QR para pagar",action:"generate_qr"},{icon:a("bc38"),title:"Billetera",description:"Administración de métodos de pago",action:"transaction_list"},{icon:a("805d"),title:"Transacciones",description:"Historial de transacciones realizadas",action:"settings"}]:t.$router.replace({name:"codr_register"}):t.$router.replace({name:"phone_register"})):console.log("No such document!")}).catch(function(t){console.log("Error getting document:",t)})},methods:{logout:function(){var t=this;r.a.auth().signOut().then(function(){t.$router.replace({name:"signin"})}).catch(function(e){t.$router.replace({name:"signin"})})}}},Z=X,tt=(a("4e92"),Object(g["a"])(Z,T,Q,!1,null,"0a9d279c",null)),et=tt.exports,at=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"scan-qr"}},[n("div",{attrs:{id:"header"}},[n("img",{attrs:{id:"close",src:a("bf37"),alt:""},on:{click:t.cancel}}),n("img",{attrs:{id:"logo",src:a("ba81"),alt:""}}),n("div",{attrs:{id:"title"}},[t._v(t._s(t.title))])]),n("canvas",{ref:"canvas",attrs:{id:"canvas"}}),n("video",{ref:"video",attrs:{hidden:""}})])},nt=[],it=a("ecec"),ot=a.n(it),st={name:"ScanCode",data:function(){return{video:{},canvas_tag:{},canvas:null,title:"Enfoca el código QR hasta que se vea claramente"}},mounted:function(){var t=this;this.video=this.$refs.video,this.canvas_tag=this.$refs.canvas,this.canvas=this.canvas_tag.getContext("2d"),navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}).then(function(e){t.video.srcObject=e,t.video.setAttribute("playsinline",!0),t.video.play(),requestAnimationFrame(t.tick)})},methods:{cancel:function(){this.video.src="",this.video.srcObject.getTracks()[0].stop(),this.$router.back()},tick:function(){if(this.video.readyState===this.video.HAVE_ENOUGH_DATA){this.canvas.drawImage(this.video,0,0,this.canvas_tag.width,this.canvas_tag.height);var t=this.canvas.getImageData(0,0,this.canvas_tag.width,this.canvas_tag.height),e=ot()(t.data,t.width,t.height,{inversionAttempts:"dontInvert"});if(e){this.canvas.getImageData(e.location.topLeftCorner.x,e.location.topLeftCorner.y,e.location.bottomRightCorner.x-e.location.topLeftCorner.x,e.location.bottomRightCorner.y-e.location.topLeftCorner.y);this.video.src="",this.video.srcObject.getTracks()[0].stop();try{var n=JSON.parse(e.data);return n.commerce&&n.amount&&n.concept?(this.$store.commit("setPayment",n),void this.$router.push("payment_details")):(console.log(err),void this.$router.push({name:"error",params:{title:"QR inválido",desc:"¿Desea volver a intentar?",image:a("afb7"),reject:"main_menu"}}))}catch(err){return console.log(err),void this.$router.push({name:"error",params:{title:"QR inválido",desc:"¿Desea volver a intentar?",image:a("afb7"),reject:"main_menu"}})}}}requestAnimationFrame(this.tick)}}},rt=st,ct=(a("57ad"),Object(g["a"])(rt,at,nt,!1,null,"1eff973e",null)),lt=ct.exports,ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"payment_details"},[n("div",{attrs:{id:"header"}},[n("img",{attrs:{id:"back",src:a("ccfe"),alt:""},on:{click:function(e){return t.$router.back()}}}),n("img",{attrs:{id:"close",src:a("bf37"),alt:""},on:{click:function(e){return t.$router.replace({name:"main_menu"})}}}),n("img",{attrs:{id:"logo",src:a("57b7"),alt:""}}),n("div",{attrs:{id:"title"}},[t._v(t._s(t.title))]),n("div",{attrs:{id:"content"}},[t._v(t._s(t.content))])]),n("div",{attrs:{id:"details"}},[n("Label",{staticClass:"input",attrs:{type:"text",icon:a("0096"),label:"Comercio"},model:{value:t.commerce,callback:function(e){t.commerce=e},expression:"commerce"}}),n("Label",{staticClass:"input",attrs:{type:"text",icon:a("f7cb"),label:"Monto"},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}}),n("Label",{staticClass:"input",attrs:{type:"text",icon:a("a195"),label:"Concepto"},model:{value:t.concept,callback:function(e){t.concept=e},expression:"concept"}}),n("Label",{staticClass:"input",attrs:{type:"text",icon:a("9e8c"),label:"Método de pago"},model:{value:t.paymethod,callback:function(e){t.paymethod=e},expression:"paymethod"}})],1),n("div",{attrs:{id:"buttons"}},[n("div",{staticClass:"button",on:{click:t.pay}},[t._v("Pagar")])]),t.modal?n("Dialog",{attrs:{title:t.dialog_title,content:t.dialog_content,type:t.process}}):t._e()],1)},dt=[],pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"group"},[a("input",{attrs:{readonly:""},domProps:{value:t.value}}),a("img",{attrs:{src:t.icon,alt:""}}),a("span",{staticClass:"highlight"}),a("span",{staticClass:"bar"}),a("label",[t._v(t._s(t.label))])])},mt=[],gt={name:"Input",props:["label","type","icon","value"]},ft=gt,ht=(a("9517"),Object(g["a"])(ft,pt,mt,!1,null,"44749382",null)),vt=ht.exports,_t={name:"PaymentDetails",data:function(){return{commerce:this.$store.state.payment.commerce,amount:"$ "+(this.$store.state.payment.amount/100).toFixed(2),concept:this.$store.state.payment.concept,paymethod:"****-****-****-7894",title:"Atrás",content:"Detalles del pago, presione pagar para aceptar el pago",canvas_tag:{},canvas:null,modal:!1,process:"",dialog_title:"",dialog_content:""}},components:{Label:vt,Dialog:y},mounted:function(){},methods:{pay:function(){this.modal=!0,this.process="progress",this.dialog_title="Autorizando",this.dialog_content="Por favor espere un momento",setTimeout(this.finish,6e3)},finish:function(){var t=this;this.process="success",this.dialog_title="Éxito",this.dialog_content="Pago realizado correctamente",setTimeout(function(){return t.$router.replace({name:"main_menu"})},3e3)},close:function(){}}},bt=_t,yt=(a("7463"),Object(g["a"])(bt,ut,dt,!1,null,"25e3c49b",null)),xt=yt.exports,$t=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"phone-register"},[n("div",{attrs:{id:"header"}},[n("img",{attrs:{id:"logo",src:a("57b5"),alt:""}}),n("div",{attrs:{id:"content"}},[t._v(t._s(t.content))])]),n("div",{attrs:{id:"details"}},[n("Input",{staticClass:"input",attrs:{type:"text",icon:a("001e"),label:"Teléfono"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}}),n("Input",{staticClass:"input",attrs:{type:"text",icon:a("0096"),label:"Comercio (sin espacios)"},model:{value:t.commerce,callback:function(e){t.commerce=e},expression:"commerce"}}),n("Input",{staticClass:"input",attrs:{type:"text",icon:a("2145"),label:"Sistema Operativo"},model:{value:t.os_name,callback:function(e){t.os_name=e},expression:"os_name"}}),n("Input",{staticClass:"input",attrs:{type:"text",icon:a("0cc8"),label:"Fabricante"},model:{value:t.factory,callback:function(e){t.factory=e},expression:"factory"}}),n("Input",{staticClass:"input",attrs:{type:"text",icon:a("fb74"),label:"Versión del sistema"},model:{value:t.os_version,callback:function(e){t.os_version=e},expression:"os_version"}}),n("Input",{staticClass:"input",attrs:{type:"text",icon:a("71c1"),label:"Modelo"},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})],1),n("div",{attrs:{id:"buttons"}},[n("div",{staticClass:"button",on:{click:t.register}},[t._v("Registrar")])]),t.modal?n("Dialog",{attrs:{title:t.dialog_title,content:t.dialog_content,type:t.process}}):t._e()],1)},Ct=[],kt={name:"PhoneRegister",data:function(){return{phone:"",commerce:"",os_name:"",os_version:"",factory:"",model:"",title:"Atrás",content:"Registre su teléfono para realizar pagos y cobros",canvas_tag:{},canvas:null,modal:!1,process:"",dialog_title:"",dialog_content:""}},components:{Input:P,Dialog:y},mounted:function(){var t=this,e=r.a.auth().currentUser.uid,a=r.a.firestore(),n=a.collection("users").doc(e);n.get().then(function(e){e.exists?(t.user=e.data(),console.log(t.user),t.user.phone&&t.$router.replace({name:"codr_register"})):console.log("No such document!")}).catch(function(t){console.log("Error getting document:",t)})},methods:{register:function(){var t=this;this.modal=!0,this.process="progress",this.dialog_title="Registrando",this.dialog_content="Por favor espere un momento";var e='d={\n                "nc" : '.concat(this.phone,',\n                "idH" : "3213213213213213213213213213213213213213213213213213213213213213-').concat(this.commerce,'",\n                "ia" : {\n                    "so": "').concat(this.os_name,'",\n                    "vSO" : "').concat(this.os_version,'",\n                    "fab" : "').concat(this.factory,'",\n                    "mod" : "').concat(this.model,'"\n                    }\n            }'),a="https://www.banxico.org.mx/pagospei-beta/registroInicial",n={method:"POST",body:e};fetch(a,n).then(function(e){console.log(e),t.finish()}).catch(function(e){console.log(e),t.finish()})},finish:function(){var t=this;this.process="success",this.dialog_title="Éxito",this.dialog_content="Registro exitoso";var e=r.a.auth().currentUser.uid,a=r.a.firestore(),n=a.collection("users").doc(e);n.update({phone:this.phone,commerce:this.commerce}),setTimeout(function(){return t.$router.replace({name:"codr_register"})},3e3)},close:function(){}}},wt=kt,qt=(a("cf9c"),Object(g["a"])(wt,$t,Ct,!1,null,"dabb845c",null)),Ot=qt.exports,Et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"code-register"},[n("div",{attrs:{id:"header"}},[n("img",{attrs:{id:"logo",src:a("57b7"),alt:""}}),n("div",{attrs:{id:"content"}},[t._v(t._s(t.content))])]),n("div",{attrs:{id:"details"}},[n("Input",{staticClass:"input",attrs:{type:"text",icon:a("0096"),label:"Código"},model:{value:t.codr,callback:function(e){t.codr=e},expression:"codr"}})],1),n("div",{attrs:{id:"buttons"}},[n("div",{staticClass:"button",on:{click:t.register}},[t._v("Continuar")])]),t.modal?n("Dialog",{attrs:{title:t.dialog_title,content:t.dialog_content,type:t.process}}):t._e()],1)},It=[],jt={name:"CodrRegister",data:function(){return{codr:this.$store.state.payment.commerce,title:"Atrás",content:"Introduzca el código recibido",modal:!1,process:"",dialog_title:"",dialog_content:""}},components:{Input:P},mounted:function(){var t=this,e=r.a.auth().currentUser.uid,a=r.a.firestore(),n=a.collection("users").doc(e);n.get().then(function(e){e.exists?(t.user=e.data(),console.log(t.user),t.user.cod_r&&t.$router.replace({name:"main_menu"})):console.log("No such document!")}).catch(function(t){console.log("Error getting document:",t)})},methods:{register:function(){var t=this;this.modal=!0,this.process="success",this.dialog_title="Éxito",this.dialog_content="Su teléfono ha sido registrado";var e=r.a.auth().currentUser.uid,a=r.a.firestore(),n=a.collection("users").doc(e);n.update({cod_r:this.codr}),setTimeout(function(){return t.$router.replace({name:"main_menu"})},2e3)}}},At=jt,Rt=(a("d2b0"),Object(g["a"])(At,Et,It,!1,null,"4a7e7dff",null)),Pt=Rt.exports,Lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"generate-qr"},[n("div",{attrs:{id:"header"}},[n("img",{attrs:{id:"close",src:a("bf37"),alt:""},on:{click:function(e){return t.$router.back()}}}),n("img",{attrs:{id:"logo",src:a("5860"),alt:""}}),n("div",{attrs:{id:"content"}},[t._v(t._s(t.content))])]),n("div",{attrs:{id:"details"}},[n("Input",{staticClass:"input",attrs:{type:"number",icon:a("f7cb"),label:"Monto (centavos)"},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}}),n("Input",{staticClass:"input",attrs:{type:"text",icon:a("a195"),label:"Concepto"},model:{value:t.concept,callback:function(e){t.concept=e},expression:"concept"}}),n("Input",{staticClass:"input",attrs:{type:"text",icon:a("d6f0"),label:"Referencia"},model:{value:t.reference,callback:function(e){t.reference=e},expression:"reference"}})],1),n("div",{attrs:{id:"buttons"}},[n("div",{staticClass:"button",on:{click:function(e){return t.$router.replace({name:"show_qr",params:{commerce:"Patos",amount:t.amount,concept:t.concept,reference:t.reference}})}}},[t._v("Generar QR")])]),t.modal?n("Dialog",{attrs:{title:t.dialog_title,content:t.dialog_content,type:t.process}}):t._e()],1)},St=[],Dt={name:"GenerateQR",data:function(){return{amount:"",concept:"",reference:"",title:"Atrás",content:"Introduzca los datos para crear un código QR",canvas_tag:{},canvas:null,modal:!1,process:"",dialog_title:"",dialog_content:""}},components:{Input:P,Dialog:y},mounted:function(){},methods:{register:function(){this.modal=!0,this.process="progress",this.dialog_title="Registrando",this.dialog_content="Por favor espere un momento";'d={\n                "nc" : '.concat(this.phone,',\n                "idH" : "3213213213213213213213213213213213213213213213213213213213213213-').concat(this.commerce,'",\n                "ia" : {\n                    "so": "').concat(this.os_name,'",\n                    "vSO" : "').concat(this.os_version,'",\n                    "fab" : "').concat(this.factory,'",\n                    "mod" : "').concat(this.model,'"\n                    }\n            }')},finish:function(){var t=this;setTimeout(function(){return t.$router.replace({name:"show_qr"})},3e3)},close:function(){}}},Mt=Dt,Tt=(a("40c9"),Object(g["a"])(Mt,Lt,St,!1,null,"1e24af8c",null)),Qt=Tt.exports,Ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"show-qr"}},[n("div",{attrs:{id:"header"}},[n("img",{attrs:{id:"logo",src:a("ba81"),alt:""}}),n("div",{attrs:{id:"title"}},[t._v("Código QR")])]),n("div",{attrs:{id:"details"}},[n("canvas",{ref:"qrcode",attrs:{id:"qrcode"}}),n("div",{attrs:{id:"data"}},[n("Label",{staticClass:"input",attrs:{type:"text",icon:a("0096"),label:"Comercio"},model:{value:this.$route.params.commerce,callback:function(e){t.$set(this.$route.params,"commerce",e)},expression:"this.$route.params.commerce"}}),n("Label",{staticClass:"input",attrs:{type:"text",icon:a("f7cb"),label:"Monto"},model:{value:"$ "+(this.$route.params.amount/100).toFixed(2),callback:function(e){t.$set("$ "+this.$route.params.amount/100,"toFixed(2)",e)},expression:"'$ ' + (this.$route.params.amount / 100).toFixed(2)"}}),n("Label",{staticClass:"input",attrs:{type:"text",icon:a("a195"),label:"Concepto"},model:{value:this.$route.params.concept,callback:function(e){t.$set(this.$route.params,"concept",e)},expression:"this.$route.params.concept"}}),n("Label",{staticClass:"input",attrs:{type:"text",icon:a("d6f0"),label:"Referencia"},model:{value:this.$route.params.reference,callback:function(e){t.$set(this.$route.params,"reference",e)},expression:"this.$route.params.reference"}})],1)]),n("div",{attrs:{id:"button"},on:{click:function(e){return t.$router.back()}}},[t._v("Cerrar")])])},Nt=[],Ft=a("d055"),zt=a.n(Ft),Ht={name:"ShowQR",data:function(){return{}},components:{Label:vt},mounted:function(){var t=this.$refs.qrcode;console.log('{"commerce":"'.concat(this.$route.params.commerce,'","amount":').concat(this.$route.params.amount,',"concept":"').concat(this.$route.params.concept,'"}')),zt.a.toCanvas(t,'{"commerce":"'.concat(this.$route.params.commerce,'","amount":').concat(this.$route.params.amount,',"concept":"').concat(this.$route.params.concept,'"}'),{errorCorrectionLevel:"M"},function(t){t&&console.error(t),console.log("success!")})},methods:{finish:function(){console.log("close"),this.$router.replace({name:"main_menu"})}}},Bt=Ht,Gt=(a("cbcc"),Object(g["a"])(Bt,Ut,Nt,!1,null,"065fa2c5",null)),Vt=Gt.exports,Jt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"qr-list"}},[n("div",{attrs:{id:"header"}},[n("img",{attrs:{id:"close",src:a("bf37"),alt:""},on:{click:function(e){return t.$router.replace({name:"main_menu"})}}}),n("img",{attrs:{id:"logo",src:a("ba81"),alt:""}}),n("div",{attrs:{id:"title"}},[t._v("Lista de códigos QR")])]),n("div"),n("div",{staticClass:"button",on:{click:function(e){return t.$router.replace({name:"generate_qr"})}}},[t._v("Nuevo")])])},Kt=[],Wt={name:"QRList",data:function(){return{qr_list:[]}},methods:{}},Yt=Wt,Xt=(a("887f"),Object(g["a"])(Yt,Jt,Kt,!1,null,"8d1287a8",null)),Zt=Xt.exports;n["a"].use(w["a"]);var te=new w["a"]({mode:"history",base:"QRPayment",routes:[{path:"*",component:M},{path:"/",name:"signin",component:M},{path:"/main_menu",name:"main_menu",component:et,meta:{requiresAuth:!0}},{path:"/scan_code",name:"scan_code",component:lt,meta:{requiresAuth:!0}},{path:"/payment_details",name:"payment_details",component:xt,meta:{requiresAuth:!0}},{path:"/qr_list",name:"qr_list",component:Zt,meta:{requiresAuth:!0}},{path:"/generate_qr",name:"generate_qr",component:Qt,meta:{requiresAuth:!0}},{path:"/show_qr",name:"show_qr",component:Vt,meta:{requiresAuth:!0}},{path:"/phone_register",name:"phone_register",component:Ot,meta:{requiresAuth:!0}},{path:"/codr_register",name:"codr_register",component:Pt,meta:{requiresAuth:!0}}]});te.beforeEach(function(t,e,a){var n=r.a.auth().currentUser,i=t.matched.some(function(t){return t.meta.requiresAuth});i&&!n?a("signin"):!i&&n?a("main_menu"):a()});var ee=te,ae=a("2f62");n["a"].use(ae["a"]);var ne=new ae["a"].Store({state:{image:{},payment:{}},mutations:{setPayment:function(t,e){return t.payment=e}},getters:{payment:function(t){return t.payment}}}),ie=a("9483");Object(ie["a"])("".concat("/QRPayment/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}}),n["a"].config.productionTip=!1;var oe=null,se={apiKey:"AIzaSyB0HD_RbkCnLurd91unK5j4OucRULifPd0",authDomain:"qrpayment-23745.firebaseapp.com",databaseURL:"https://qrpayment-23745.firebaseio.com",projectId:"qrpayment-23745",storageBucket:"qrpayment-23745.appspot.com",messagingSenderId:"49670041771"};r.a.initializeApp(se),r.a.auth().onAuthStateChanged(function(t){oe||(oe=new n["a"]({router:ee,store:ne,render:function(t){return t(k)}}).$mount("#app"))})},"57ad":function(t,e,a){"use strict";var n=a("7084"),i=a.n(n);i.a},"57b5":function(t,e,a){t.exports=a.p+"img/record.0dd622b8.svg"},"57b7":function(t,e,a){t.exports=a.p+"img/bag.0bb274b6.svg"},5860:function(t,e,a){t.exports=a.p+"img/prod_to_qr.0db88366.svg"},"5fc9":function(t,e,a){},6005:function(t,e,a){t.exports=a.p+"img/password.e04c6fea.svg"},"64a9":function(t,e,a){},"69b9":function(t,e,a){},"6d1b":function(t,e,a){},7084:function(t,e,a){},"71c1":function(t,e,a){t.exports=a.p+"img/model.ded2377b.svg"},7463:function(t,e,a){"use strict";var n=a("69b9"),i=a.n(n);i.a},"755e":function(t,e,a){t.exports=a.p+"img/pay.b91a0745.svg"},"79a5":function(t,e,a){t.exports=a.p+"img/fail.827c9486.svg"},"805d":function(t,e,a){t.exports=a.p+"img/transactions.32312383.svg"},8126:function(t,e,a){"use strict";var n=a("5fc9"),i=a.n(n);i.a},"887f":function(t,e,a){"use strict";var n=a("0279"),i=a.n(n);i.a},9055:function(t,e,a){t.exports=a.p+"img/email.c6eda5b2.svg"},9459:function(t,e,a){},9517:function(t,e,a){"use strict";var n=a("d29a"),i=a.n(n);i.a},"9b19":function(t,e,a){t.exports=a.p+"img/logo.ec0f6903.svg"},"9e8c":function(t,e,a){t.exports=a.p+"img/paymethod.aeaa6d2a.svg"},a195:function(t,e,a){t.exports=a.p+"img/smallbag.56a58e01.svg"},a4db:function(t,e,a){"use strict";var n=a("6d1b"),i=a.n(n);i.a},afb7:function(t,e,a){t.exports=a.p+"img/warning.65a8ac9c.svg"},b5da:function(t,e,a){t.exports=a.p+"img/spinner_1.3b5413da.svg"},ba81:function(t,e,a){t.exports=a.p+"img/qrlogo.89bd4227.svg"},baf6:function(t,e,a){"use strict";var n=a("201b"),i=a.n(n);i.a},bc28:function(t,e,a){t.exports=a.p+"img/avatar.f91b4bb9.svg"},bc38:function(t,e,a){t.exports=a.p+"img/wallet.89ddaa2f.svg"},beb9:function(t,e,a){},bf37:function(t,e,a){t.exports=a.p+"img/close.3ff8a9dc.svg"},cbcc:function(t,e,a){"use strict";var n=a("beb9"),i=a.n(n);i.a},ccfe:function(t,e,a){t.exports=a.p+"img/back.6f002b75.svg"},cf9c:function(t,e,a){"use strict";var n=a("4669"),i=a.n(n);i.a},d29a:function(t,e,a){},d2b0:function(t,e,a){"use strict";var n=a("16db"),i=a.n(n);i.a},d67f:function(t,e,a){"use strict";var n=a("da4a"),i=a.n(n);i.a},d6f0:function(t,e,a){t.exports=a.p+"img/ref.1bd6307c.svg"},da4a:function(t,e,a){},e19e:function(t,e,a){},ef14:function(t,e,a){"use strict";var n=a("135c"),i=a.n(n);i.a},f196:function(t,e,a){t.exports=a.p+"img/charge.533ce8fa.svg"},f7cb:function(t,e,a){t.exports=a.p+"img/money.cc074f69.svg"},fb74:function(t,e,a){t.exports=a.p+"img/version.18d635cf.svg"},fc9f:function(t,e,a){t.exports=a.p+"img/spinner_2.1aca05b5.svg"}});
//# sourceMappingURL=app-legacy.4ea6c7e3.js.map