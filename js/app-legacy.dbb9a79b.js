(function(t){function e(e){for(var a,r,s=e[0],c=e[1],l=e[2],d=0,v=[];d<s.length;d++)r=s[d],i[r]&&v.push(i[r][0]),i[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(v.length)v.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,s=1;s<n.length;s++){var c=n[s];0!==i[c]&&(a=!1)}a&&(o.splice(e--,1),t=r(r.s=n[0]))}return t}var a={},i={app:0},o=[];function r(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=a,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var a=n("64a9"),i=n.n(a);i.a},"0a92":function(t,e,n){},"0e2b":function(t,e,n){},"2db3":function(t,e,n){"use strict";var a=n("0e2b"),i=n.n(a);i.a},"41dd":function(t,e,n){"use strict";var a=n("c43d"),i=n.n(a);i.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},o=[],r=(n("034f"),n("2877")),s={},c=Object(r["a"])(s,i,o,!1,null,null,null),l=c.exports,u=n("8c4f"),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"signin"},[n("img",{attrs:{id:"logo",src:"",alt:""}}),t._m(0),n("div",{staticClass:"button"},[t._v("ACCEDER")]),n("div",{staticClass:"create"},[t._v("¿No tienes cuenta? "),n("router-link",{attrs:{id:"link",to:"signup"}},[t._v("Crea una...")])],1)])},v=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"form"}},[n("input",{attrs:{type:"text",placeholder:"Correo electrónico"}}),n("input",{attrs:{type:"password",placeholder:"Contraseña"}})])}],h={name:"Signin"},f=h,p=(n("2db3"),Object(r["a"])(f,d,v,!1,null,"6e4edbc8",null)),g=p.exports,m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"signin"},[n("img",{attrs:{id:"logo",src:"",alt:""}}),t._m(0),n("div",{staticClass:"button"},[t._v("REGISTRAR")]),n("div",{staticClass:"create"},[t._v("¿Ya tienes cuenta? "),n("router-link",{attrs:{id:"link",to:"signin"}},[t._v("Accede...")])],1)])},_=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"form"}},[n("input",{attrs:{type:"text",placeholder:"Correo electrónico"}}),n("input",{attrs:{type:"password",placeholder:"Contraseña"}}),n("input",{attrs:{type:"password",placeholder:"Confirmar contraseña"}})])}],b={name:"Signup"},y=b,C=(n("b70e"),Object(r["a"])(y,m,_,!1,null,"0f078edf",null)),w=C.exports,$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("canvas",{ref:"canvas",attrs:{id:"canvas"}}),n("video",{ref:"video",attrs:{hidden:""}})])},x=[],O=n("ecec"),k=n.n(O),j={name:"ScanCode",data:function(){return{video:{},canvas_tag:{},canvas:null,captures:[],recording:!0}},mounted:function(){var t=this;this.video=this.$refs.video,this.canvas_tag=this.$refs.canvas,this.canvas=this.canvas_tag.getContext("2d"),navigator.mediaDevices.getUserMedia({video:{facingMode:"user"}}).then(function(e){t.video.srcObject=e,t.video.setAttribute("playsinline",!0),t.video.play(),requestAnimationFrame(t.tick)})},methods:{drawLine:function(t,e,n){this.canvas.beginPath(),this.canvas.moveTo(t.x,t.y),this.canvas.lineTo(e.x,e.y),this.canvas.lineWidth=4,this.canvas.strokeStyle=n,this.canvas.stroke()},tick:function(){if(this.video.readyState===this.video.HAVE_ENOUGH_DATA){this.canvas_tag.height=this.video.videoHeight,this.canvas_tag.width=this.video.videoWidth,this.canvas.drawImage(this.video,0,0,this.canvas_tag.width,this.canvas_tag.height);var t=this.canvas.getImageData(0,0,this.canvas_tag.width,this.canvas_tag.height),e=k()(t.data,t.width,t.height,{inversionAttempts:"dontInvert"});if(e){this.drawLine(e.location.topLeftCorner,e.location.topRightCorner,"#FF3B58"),this.drawLine(e.location.topRightCorner,e.location.bottomRightCorner,"#FF3B58"),this.drawLine(e.location.bottomRightCorner,e.location.bottomLeftCorner,"#FF3B58"),this.drawLine(e.location.bottomLeftCorner,e.location.topLeftCorner,"#FF3B58"),this.recording=!1;var n=this.canvas.getImageData(e.location.topLeftCorner.x,e.location.topLeftCorner.y,e.location.bottomRightCorner.x-e.location.topLeftCorner.x,e.location.bottomRightCorner.y-e.location.topLeftCorner.y);this.video.src="",this.video.srcObject.getTracks()[0].stop();var a=JSON.parse(e.data);if(a.commerce&&a.amount&&a.concept)return this.$store.commit("setImage",n),this.$store.commit("setPayment",a),void this.$router.push("payment_details")}}requestAnimationFrame(this.tick)}}},A=j,E=Object(r["a"])(A,$,x,!1,null,null,null),L=E.exports,S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"payment_details"},[n("div",{attrs:{id:"qrcode"}},[n("canvas",{ref:"canvas",attrs:{id:"canvas"}})]),n("div",{attrs:{id:"details"}},[n("div",[t._v("Comercio:")]),n("div",{staticClass:"right"},[t._v(t._s(" "+t.$store.state.payment.commerce))]),n("div",[t._v("Monto a pagar:")]),n("div",{staticClass:"right"},[t._v(t._s(" $"+(t.$store.state.payment.amount/100).toFixed(2)))]),n("div",[t._v("Concepto:")]),n("div",{staticClass:"right"},[t._v(t._s(" "+t.$store.state.payment.concept))])]),t._m(0)])},F=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"buttons"}},[n("div",{staticClass:"button flat red"},[t._v("CANCELAR")]),n("div",{staticClass:"button green"},[t._v("PAGAR")])])}],R={name:"PaymentDetails",data:function(){return{canvas_tag:{},canvas:null}},mounted:function(){this.canvas_tag=this.$refs.canvas,this.canvas_tag.height=this.$store.state.image.height,this.canvas_tag.width=this.$store.state.image.width,this.canvas=this.canvas_tag.getContext("2d"),this.canvas.putImageData(this.$store.state.image,0,0)}},P=R,I=(n("41dd"),Object(r["a"])(P,S,F,!1,null,null,null)),T=I.exports;a["a"].use(u["a"]);var D=new u["a"]({mode:"history",base:"/",routes:[{path:"*",component:g},{path:"/signin",name:"signin",component:g},{path:"/signup",name:"signup",component:w},{path:"/scan_code",name:"scan_code",component:L},{path:"/payment_details",name:"payment_details",component:T}]}),M=n("2f62");a["a"].use(M["a"]);var N=new M["a"].Store({state:{image:{},payment:{}},mutations:{setImage:function(t,e){t.image=e},setPayment:function(t,e){t.payment=e}},getters:{image:function(t){return t.image},payment:function(t){return t.payment}}}),B=n("9483");Object(B["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}}),a["a"].config.productionTip=!1,new a["a"]({router:D,store:N,render:function(t){return t(l)}}).$mount("#app")},"64a9":function(t,e,n){},b70e:function(t,e,n){"use strict";var a=n("0a92"),i=n.n(a);i.a},c43d:function(t,e,n){}});
//# sourceMappingURL=app-legacy.dbb9a79b.js.map