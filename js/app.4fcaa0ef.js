(function(t){function e(e){for(var a,o,s=e[0],c=e[1],d=e[2],u=0,v=[];u<s.length;u++)o=s[u],i[o]&&v.push(i[o][0]),i[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);l&&l(e);while(v.length)v.shift()();return r.push.apply(r,d||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],a=!0,s=1;s<n.length;s++){var c=n[s];0!==i[c]&&(a=!1)}a&&(r.splice(e--,1),t=o(o.s=n[0]))}return t}var a={},i={app:0},r=[];function o(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=a,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/QRPayment/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var d=0;d<s.length;d++)e(s[d]);var l=c;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var a=n("64a9"),i=n.n(a);i.a},1400:function(t,e,n){},"1b80":function(t,e,n){"use strict";var a=n("8423"),i=n.n(a);i.a},"2abe":function(t,e,n){"use strict";var a=n("7e8c"),i=n.n(a);i.a},3321:function(t,e,n){},"3d31":function(t,e,n){"use strict";var a=n("1400"),i=n.n(a);i.a},"41dd":function(t,e,n){"use strict";var a=n("c43d"),i=n.n(a);i.a},"56d7":function(t,e,n){"use strict";n.r(e);var a=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[t._m(0),n("router-view")],1)},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"status-bar"}},[n("div",{attrs:{id:"status-logo"}}),n("div",{attrs:{id:"status-title"}},[t._v("Agile Pay")])])}],o=(n("034f"),n("2877")),s={},c=Object(o["a"])(s,i,r,!1,null,null,null),d=c.exports,l=n("8c4f"),u=function(){var t=this,e=this,n=e.$createElement,a=e._self._c||n;return a("div",{staticClass:"signin"},[a("div"),a("div",{attrs:{id:"form"}},[a("input",{attrs:{type:"text",placeholder:"Correo electrónico"}}),a("input",{attrs:{type:"password",placeholder:"Contraseña"}}),e.register?a("input",{attrs:{type:"password",placeholder:"Confirmar contraseña"}}):e._e()]),e.register?a("div",{staticClass:"button",on:{click:function(){return t.$router.push("main_menu")}}},[e._v("NUEVO USUARIO")]):a("div",{staticClass:"button"},[e._v("INGRESAR")]),e.register?a("div",{staticClass:"note"},[e._v("¿Ya tienes cuenta? "),a("u",{on:{click:function(t){e.register=!e.register}}},[e._v("Ingresa ...")])]):a("div",{staticClass:"note"},[e._v("¿No tienes cuenta? "),a("u",{on:{click:function(t){e.register=!e.register}}},[e._v("Crea una ...")])])])},v=[],p={name:"Signin",data:function(){return{email:"",password:"",password2:"",register:!1}},methods:{signin(){},signup(){}}},f=p,h=(n("3d31"),Object(o["a"])(f,u,v,!1,null,"2f9f865b",null)),m=h.exports,g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"main-menu"}},[a("MenuHeader",{attrs:{color:"#00BFA5",avatar:n("bc28"),title:"Jesús Mondragón"}}),t._l(t.list,function(e,n){return a("MenuItem",{key:n,attrs:{icon:e.icon,title:e.title,description:e.description,color:e.color,action:e.action,idx:t.list.length-n}})})],2)},_=[],b=function(){var t=this,e=this,n=e.$createElement,a=e._self._c||n;return a("div",{style:{backgroundColor:e.color,zIndex:e.idx},attrs:{id:"menu-item"},on:{click:function(){return t.$router.push(t.action)}}},[a("img",{attrs:{id:"icon",src:e.icon,alt:"no hay"}}),a("div",{attrs:{id:"title"}},[e._v(e._s(e.title))]),a("div",{attrs:{id:"description"}},[e._v(e._s(e.description))])])},y=[],C={name:"MenuItem",props:["icon","title","description","color","action","idx"]},w=C,x=(n("2abe"),Object(o["a"])(w,b,y,!1,null,"5b4cd94e",null)),$=x.exports,A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{style:{backgroundColor:t.color},attrs:{id:"menu-header"}},[n("img",{attrs:{id:"avatar",src:t.avatar,alt:""}}),n("div",[t._v(t._s(t.title))])])},O=[],R={name:"MenuHeader",props:["avatar","title","color"]},k=R,j=(n("d67f"),Object(o["a"])(k,A,O,!1,null,"3768f6d1",null)),E=j.exports,I={name:"MainMenu",components:{MenuItem:$,MenuHeader:E},data:function(){return{list:[{icon:n("755e"),title:"PAGAR",description:"Leer un código QR para pagar",color:"#029783",action:"scan_code"},{icon:n("f196"),title:"COBRAR",description:"Generar un código QR para pagar",color:"#017364",action:"generate_code"},{icon:n("76e0"),title:"HISTORIAL",description:"Lista de pagos y cobros",color:"#095B50",action:"transaction_list"},{icon:n("e9b0"),title:"CONFIGURACIÓN",description:"Modificar datos de cuenta",color:"#37474F",action:"settings"}]}}},L=I,M=(n("adca"),Object(o["a"])(L,g,_,!1,null,"34ede61c",null)),F=M.exports,P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"scan-qr"}},[n("canvas",{ref:"canvas",attrs:{id:"canvas"}}),n("video",{ref:"video",attrs:{hidden:""}}),t._m(0),t._m(1)])},S=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"label"}},[t._v("Acerce su teléfono al código QR"),n("br"),t._v("hasta que se vea claro")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"button"}},[n("div",[t._v("CANCELAR")])])}],N=n("ecec"),B=n.n(N),T={name:"ScanCode",data:function(){return{video:{},canvas_tag:{},canvas:null,captures:[],recording:!0}},mounted:function(){this.video=this.$refs.video,this.canvas_tag=this.$refs.canvas,this.canvas=this.canvas_tag.getContext("2d"),navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}).then(t=>{this.video.srcObject=t,this.video.setAttribute("playsinline",!0),this.video.play(),requestAnimationFrame(this.tick)})},methods:{drawLine(t,e,n){this.canvas.beginPath(),this.canvas.moveTo(t.x,t.y),this.canvas.lineTo(e.x,e.y),this.canvas.lineWidth=4,this.canvas.strokeStyle=n,this.canvas.stroke()},tick(){if(this.video.readyState===this.video.HAVE_ENOUGH_DATA){this.canvas.drawImage(this.video,0,0,this.canvas_tag.width,this.canvas_tag.height);let t=this.canvas.getImageData(0,0,this.canvas_tag.width,this.canvas_tag.height),e=B()(t.data,t.width,t.height,{inversionAttempts:"dontInvert"});if(e){this.drawLine(e.location.topLeftCorner,e.location.topRightCorner,"#FF3B58"),this.drawLine(e.location.topRightCorner,e.location.bottomRightCorner,"#FF3B58"),this.drawLine(e.location.bottomRightCorner,e.location.bottomLeftCorner,"#FF3B58"),this.drawLine(e.location.bottomLeftCorner,e.location.topLeftCorner,"#FF3B58"),this.recording=!1;let t=this.canvas.getImageData(e.location.topLeftCorner.x,e.location.topLeftCorner.y,e.location.bottomRightCorner.x-e.location.topLeftCorner.x,e.location.bottomRightCorner.y-e.location.topLeftCorner.y);this.video.src="",this.video.srcObject.getTracks()[0].stop();let n=JSON.parse(e.data);if(n.commerce&&n.amount&&n.concept)return this.$store.commit("setImage",t),this.$store.commit("setPayment",n),void this.$router.push("payment_details")}}requestAnimationFrame(this.tick)}}},q=T,D=(n("1b80"),Object(o["a"])(q,P,S,!1,null,"2dcc344f",null)),G=D.exports,H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"payment_details"},[n("div",{attrs:{id:"qrcode"}},[n("canvas",{ref:"canvas",attrs:{id:"canvas"}})]),n("div",{attrs:{id:"details"}},[n("div",[t._v("Comercio:")]),n("div",{staticClass:"right"},[t._v(t._s(" "+t.$store.state.payment.commerce))]),n("div",[t._v("Monto a pagar:")]),n("div",{staticClass:"right"},[t._v(t._s(" $"+(t.$store.state.payment.amount/100).toFixed(2)))]),n("div",[t._v("Concepto:")]),n("div",{staticClass:"right"},[t._v(t._s(" "+t.$store.state.payment.concept))])]),t._m(0)])},Q=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"buttons"}},[n("div",{staticClass:"button flat red"},[t._v("CANCELAR")]),n("div",{staticClass:"button green"},[t._v("PAGAR")])])}],U={name:"PaymentDetails",data:function(){return{canvas_tag:{},canvas:null}},mounted:function(){this.canvas_tag=this.$refs.canvas,this.canvas_tag.height=this.$store.state.image.height,this.canvas_tag.width=this.$store.state.image.width,this.canvas=this.canvas_tag.getContext("2d"),this.canvas.putImageData(this.$store.state.image,0,0)}},J=U,V=(n("41dd"),Object(o["a"])(J,H,Q,!1,null,null,null)),z=V.exports;a["a"].use(l["a"]);var W=new l["a"]({mode:"history",base:"QRPayment",routes:[{path:"*",component:m},{path:"/",name:"signin",component:m},{path:"/main_menu",name:"main_menu",component:F},{path:"/scan_code",name:"scan_code",component:G},{path:"/payment_details",name:"payment_details",component:z}]}),Y=n("2f62");a["a"].use(Y["a"]);var K=new Y["a"].Store({state:{image:{},payment:{}},mutations:{setImage(t,e){t.image=e},setPayment(t,e){t.payment=e}},getters:{image(t){return t.image},payment(t){return t.payment}}}),X=n("9483");Object(X["a"])("/QRPayment/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}}),a["a"].config.productionTip=!1,new a["a"]({router:W,store:K,render:t=>t(d)}).$mount("#app")},"64a9":function(t,e,n){},"755e":function(t,e,n){t.exports=n.p+"img/pay.96d2dce7.svg"},"76e0":function(t,e,n){t.exports=n.p+"img/history.52d6d7da.svg"},"7e8c":function(t,e,n){},8423:function(t,e,n){},adca:function(t,e,n){"use strict";var a=n("3321"),i=n.n(a);i.a},bc28:function(t,e,n){t.exports=n.p+"img/avatar.e7191882.svg"},c43d:function(t,e,n){},d67f:function(t,e,n){"use strict";var a=n("da4a"),i=n.n(a);i.a},da4a:function(t,e,n){},e9b0:function(t,e,n){t.exports=n.p+"img/settings.60ff1812.svg"},f196:function(t,e,n){t.exports=n.p+"img/charge.fbe38d92.svg"}});
//# sourceMappingURL=app.4fcaa0ef.js.map